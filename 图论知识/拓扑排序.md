# 拓扑排序

拓扑排序是一种常用的排序算法，它可以将有向图中的顶点按照其拓扑顺序排列。

拓扑排序的过程是：

1. 从图中选择一个没有前驱的顶点，并输出。
2. 从图中删除该顶点和所有以它为起点的边。
3. 重复步骤 1 和 2，直到图中没有未输出的顶点为止。

如果图中存在环，则不存在拓扑排序。

- **算法：**
```
bool topsort() {
    for (int i = 1; i <= n; i++) 
        if (d[i] == 0) 
            q.push(i);
        
    while (!q.empty()) {
        int t = q.front(); q.pop(); ans.push_back(t);
        for (int i = h[t]; i != -1; i = ne[i]) {
            int j = e[i];
            d[j]--;
            if (d[j] == 0) q.push(j);
        }
    }
    return ans.size() == n;
}
```
**算法思想：**

- 首先，将所有入度为 0 的顶点入队。
- 然后，从队首取出一个顶点，输出它，并将它出队。
- 对于该顶点的出边，将它们的入度减 1，如果入度变为 0，则将它们入队。
- 重复步骤 2 到 3，直到队列为空。
- 如果输出的顶点数等于图中的顶点数，则说明图中不存在环，否则，存在环。

**注意：**
- 拓扑排序适用于有向无环图。
- 时间复杂度：O(n+m)，n 为顶点数，m 为边数。
- 空间复杂度：O(n)，需要使用队列存储入度为 0 的顶点。
- 如果拓扑排序不存在，说明图中存在环。这里的环是存在一条路径使得顶点A可以回到顶点A。
- 如果拓扑排序存在，则输出的顶点顺序即为拓扑排序的结果。


